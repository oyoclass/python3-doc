<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>sqlalchemy - Python3 Editor Documentation</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../../css/custom.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "sqlalchemy";
        var mkdocs_page_input_path = "extralibs/sqlalchemy.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> Python3 Editor Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Core</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/comments/">Comments</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/boolean/">Boolean</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/number/">Number</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/comparison/">Comparison</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/none/">None</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/string/">String</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/function/">Function</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/listtuple/">List & Tuple</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/set/">Set</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/dictionary/">Dictionary</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../core/inputoutput/">Standard Input & Output</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Standard Python Libraries</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../modules/">Intro</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../modules/math/">math</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../modules/random/">random</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../modules/string/">string</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../modules/time/">time</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../modules/urllib/">urllib</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../modules/turtle/">turtle</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../modules/tkinter/">tkinter</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../modules/sqlite/">sqlite</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Extra Python Libraries</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../">Intro</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../bottle/">bottle</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../flask/">flask</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../starlette/">starlette</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../uvicorn/">uvicorn</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../fastapi/">fastapi</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../requests/">requests</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../beautifulsoup/">beautifulsoup4</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../httpx/">httpx</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../python-multipart/">python-multipart</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../jinja2/">jinja2</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../pillow/">pillow</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tinydb/">tinydb</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../pymongo/">pymongo</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../motor/">motor</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../plyvel/">plyvel</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../boto3/">boto3</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../firebase-admin/">firebase-admin</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../redis/">redis</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">sqlalchemy</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#create-a-table">Create a Table</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#insert-a-row">Insert a Row</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#read-a-row">Read a Row</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#update-a-row">Update a Row</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#delete-a-row">Delete a Row</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#reference">Reference</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../numpy/">numpy</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scipy/">scipy</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../matplotlib/">matplotlib</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../seaborn/">seaborn</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../pandas/">pandas</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../nltk/">nltk</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scikit-learn/">scikit-learn</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../pysimplegui/">pysimplegui</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../pygame/">pygame</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../arcade/">arcade</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../pyxel/">pyxel</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../pydub/">pydub</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Python3 Editor Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>Extra Python Libraries &raquo;</li>
      <li>sqlalchemy</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h2 id="sqlalchemy">SQLAlchemy</h2>
<p>SQLAlchemy is an SQL database engine library for Python. It uses its own syntax for handling database operations with Python objects and writes the SQL queries for you. SQLAlchemy can be useful if you're uncomfortable writing your own SQL queries directly with <a href="/modules/sqlite/">SQLite</a>.</p>
<h3 id="examples">Examples</h3>
<h4 id="create-a-table">Create a Table</h4>
<p>First thing we need to do is create a table in our database:</p>
<pre><code class="language-python">from sqlalchemy import create_engine, MetaData, Table, Column, Integer, String
engine = create_engine('sqlite:///college.db', echo = True)
meta = MetaData()

students = Table(
   'students', meta,
   Column('id', Integer, primary_key = True),
   Column('firstname', String),
   Column('lastname', String),
)
meta.create_all(engine)
</code></pre>
<p>In our console, we can see that SQLAlchemy will print the raw SQL query:</p>
<pre><code class="language-sql">CREATE TABLE students (
    id INTEGER NOT NULL,
    firstname VARCHAR,
    lastname VARCHAR,
    PRIMARY KEY (id)
)
</code></pre>
<h4 id="insert-a-row">Insert a Row</h4>
<p>In the following snippet, we will insert a student with the <code>firstname</code> field set to <code>'Karen'</code>:</p>
<pre><code class="language-python">import sqlalchemy as db
engine = db.create_engine('sqlite:///college.db', echo = True)
conn = engine.connect()
meta = db.MetaData()

# Get access to the students table
students = db.Table('students', meta, autoload_with=engine)
# Create the insert SQL statement
ins = students.insert().values(firstname='Karen')

# Begin a transaction
trans = conn.begin()
# Execute insert in transaction
conn.execute(ins)
# Commit the transaction
trans.commit()
</code></pre>
<p>We can't see our result immedaitely, but we will read from this table in the next example to see the student we inserted:</p>
<h4 id="read-a-row">Read a Row</h4>
<p>We can read an entire table with a <code>select()</code> call:</p>
<pre><code class="language-python">import sqlalchemy as db
engine = db.create_engine('sqlite:///college.db', echo = True)
conn = engine.connect()
meta = db.MetaData()

# Get access to the students table
students = db.Table('students', meta, autoload_with=engine)
s = students.select()
res = conn.execute(s)

for row in res.fetchall():
    print(row)
</code></pre>
<p>This will print out the data:</p>
<pre><code class="language-text">(1, 'Karen', None)
</code></pre>
<p>It's our student that we inserted before! They were given an <code>id</code> of <strong>1</strong> and since we did not specify a <code>lastname</code> for our student, it has been left null (<strong>None</strong> in Python)</p>
<h4 id="update-a-row">Update a Row</h4>
<p>Let's write a program to update a student with <code>id==1</code> to have the <code>lastname</code> <strong>Karenston</strong>:</p>
<pre><code class="language-python">import sqlalchemy as db
engine = db.create_engine('sqlite:///college.db', echo = True)
conn = engine.connect()
meta = db.MetaData()

# Get access to the students table
students = db.Table('students', meta, autoload_with=engine)
s = students.update().where(students.c.id==1).values(lastname='Karenston')
trans = conn.begin()
res = conn.execute(s)
trans.commit()
</code></pre>
<p>Now, if we run the <code>fetchall()</code> example from before, our program will now output:</p>
<pre><code class="language-text">(1, 'Karen', 'Karenston')
</code></pre>
<h4 id="delete-a-row">Delete a Row</h4>
<p>Finally, let's delete the row we've been working with. The process is almost identical to the <code>update()</code> example:</p>
<pre><code class="language-python">import sqlalchemy as db
engine = db.create_engine('sqlite:///college.db', echo = True)
conn = engine.connect()
meta = db.MetaData()

# Get access to the students table
students = db.Table('students', meta, autoload_with=engine)
s = students.delete().where(students.c.id==1)
trans = conn.begin()
res = conn.execute(s)
trans.commit()
</code></pre>
<p>Now our database table is empty once again.</p>
<h3 id="reference">Reference</h3>
<ul>
<li><a href="https://www.sqlalchemy.org/">SQLAlchemy</a> at <em>sqlalchemy.org</em></li>
</ul>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../redis/" class="btn btn-neutral float-left" title="redis"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../numpy/" class="btn btn-neutral float-right" title="numpy">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../redis/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../numpy/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
